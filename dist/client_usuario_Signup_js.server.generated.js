"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "client_usuario_Signup_js";
exports.ids = ["client_usuario_Signup_js"];
exports.modules = {

/***/ "./client/usuario/Signup.js":
/*!**********************************!*\
  !*** ./client/usuario/Signup.js ***!
  \**********************************/
/***/ ((module, exports, __webpack_require__) => {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\n\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = Signup;\nvar _react = _interopRequireWildcard(__webpack_require__(/*! react */ \"react\"));\nvar _material = __webpack_require__(/*! @mui/material */ \"@mui/material\");\nvar _reactRouterDom = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\nvar _apiUsuario = __webpack_require__(/*! ./../usuario/api-usuario */ \"./client/usuario/api-usuario.js\");\nvar _Item = _interopRequireDefault(__webpack_require__(/*! ../core/Item */ \"./client/core/Item.js\"));\nvar _FmtoRut = __webpack_require__(/*! ../assets/js/FmtoRut */ \"./client/assets/js/FmtoRut.js\");\nvar _Check = _interopRequireDefault(__webpack_require__(/*! @mui/icons-material/Check */ \"@mui/icons-material/Check\"));\nvar _GppBad = _interopRequireDefault(__webpack_require__(/*! @mui/icons-material/GppBad */ \"@mui/icons-material/GppBad\"));\nvar _authHelper = _interopRequireDefault(__webpack_require__(/*! ./../auth/auth-helper */ \"./client/auth/auth-helper.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\nfunction Signup() {\n  const isAutorized = _authHelper.default.isAuthenticated();\n  console.log(\"isAutorized:\", isAutorized);\n  const [valores, setValores] = (0, _react.useState)({\n    nombre_usuario: \"\",\n    correo: \"\",\n    password: \"\",\n    apat: \"\",\n    amat: \"\",\n    nombres: \"\",\n    rut: \"\",\n    dv: \"\",\n    rol: 2,\n    open: false,\n    error: \"\"\n  });\n  const [validations, setValidations] = (0, _react.useState)({\n    nombre_usuario: false,\n    correo: false,\n    password: false,\n    apat: false,\n    amat: false,\n    nombres: false,\n    rut: false\n  });\n  const [fRut, setfRut] = (0, _react.useState)(\"\");\n  const handleChange = name => event => {\n    setValores({\n      ...valores,\n      [name]: event.target.value\n    });\n  };\n  const handleBlur = campo => () => {\n    setValidations({\n      ...validations,\n      [campo]: validateField(campo)\n    });\n  };\n  const manejoCambiofRut = name => event => {\n    let tvalue = (0, _FmtoRut.FmtoRut)(event.target.value);\n    if (fRut.length == 1 && tvalue == null) tvalue = \"\";\n    if (tvalue != null) {\n      setfRut(tvalue);\n    }\n  };\n  const validateField = campo => {\n    // Aquí puedes realizar tus validaciones personalizadas para cada campo\n    // Por ejemplo:\n    if (campo === \"nombre_usuario\" && valores.nombre_usuario.trim() === \"\" || valores.nombre_usuario.length < 5) {\n      return false;\n    }\n    if (campo === \"password\" && valores.password.length < 3) {\n      // console.log(\"Password ??: \", valores.password.length)\n      return false;\n    }\n    return true;\n  };\n  const actualizaValores = () => {\n    setValores({\n      ...valores,\n      rut: (0, _FmtoRut.QuitaPuntos)(fRut.slice(0, -1)),\n      dv: fRut.slice(-1)\n    });\n  };\n  const clickSubmit = event => {\n    event.preventDefault();\n    if (!(0, _FmtoRut.validarRut)(fRut)) {\n      alert(\"Rut ingresado erróneo\");\n      return;\n    }\n    actualizaValores();\n    const user = {\n      nombre_usuario: valores.nombre_usuario || undefined,\n      correo: valores.correo || undefined,\n      password: valores.password || undefined,\n      apat: valores.apat || undefined,\n      amat: valores.amat || undefined,\n      nombres: valores.nombres || undefined,\n      rut: (0, _FmtoRut.QuitaPuntos)(fRut.slice(0, -1)) || undefined,\n      dv: fRut.slice(-1) || undefined,\n      rol: valores.rol || undefined\n    };\n    // console.log(\"Const user====>:\", user)\n    if (user.nombre_usuario === undefined || user.correo === undefined || user.password === undefined || user.apat === undefined || user.amat === undefined || user.nombres === undefined || user.rut === undefined || user.dv === undefined || user.rol === undefined) {\n      alert(\"Por favor, complete todos los campos\");\n      return;\n    }\n    (0, _apiUsuario.inscribe)(user).then(data => {\n      // console.log(\"Ensignup, inscribe==>\", data.error)\n\n      if (data.error) {\n        setValores({\n          ...valores,\n          error: data.error\n        });\n      } else {\n        setValores({\n          ...valores,\n          error: \"\",\n          open: true\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    container: true,\n    rowSpacing: 1,\n    sx: {\n      paddingTop: \"100px\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      margin: \"auto\",\n      maxWidth: \"65%\"\n    }\n  }, /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/_react.default.createElement(_Item.default, null, /*#__PURE__*/_react.default.createElement(_material.Typography, {\n    variant: \"h5\",\n    gutterBottom: true,\n    sx: {\n      color: \"blue\"\n    }\n  }, \"Registro de Usuarios al Sistema\")), /*#__PURE__*/_react.default.createElement(\"br\", null), /*#__PURE__*/_react.default.createElement(\"br\", null)), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"Nombre usuario\",\n    variant: \"outlined\",\n    fullWidth: true,\n    value: valores.name,\n    onChange: handleChange(\"nombre_usuario\"),\n    onBlur: handleBlur(\"nombre_usuario\"),\n    error: !validations.nombre_usuario\n    //                    helperText={ !validations.nombre_usuario ? 'Este valor debe tener al menos 8 caracteres' : ''}\n    ,\n    InputProps: {\n      endAdornment: validations.nombre_usuario ? /*#__PURE__*/_react.default.createElement(_Check.default, {\n        color: \"success\"\n      }) : /*#__PURE__*/_react.default.createElement(_GppBad.default, {\n        color: \"error\"\n      })\n    }\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"Contrase\\xF1a\",\n    variant: \"outlined\",\n    fullWidth: true,\n    type: \"password\",\n    value: valores.password,\n    onChange: handleChange(\"password\"),\n    onBlur: handleBlur(\"password\"),\n    error: !validations.password\n    //                  helperText={!validations.password ? 'Este valor debe tener al menos 5 caracteres' : ''}\n    ,\n    InputProps: {\n      endAdornment: validations.password && /*#__PURE__*/_react.default.createElement(_Check.default, {\n        color: \"success\"\n      })\n    }\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"Repita Contrase\\xF1a\",\n    variant: \"outlined\",\n    fullWidth: true,\n    type: \"password\",\n    value: valores.password,\n    onChange: handleChange(\"password\")\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 12\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"correo electr\\xF3nico\",\n    variant: \"outlined\",\n    fullWidth: true,\n    value: valores.correo,\n    onChange: handleChange(\"correo\")\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"Nombres\",\n    variant: \"outlined\",\n    fullWidth: true,\n    value: valores.nombres,\n    onChange: handleChange(\"nombres\")\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"Apellido paterno\",\n    variant: \"outlined\",\n    fullWidth: true,\n    value: valores.apat,\n    onChange: handleChange(\"apat\")\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 4\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    label: \"Apellido materno\",\n    variant: \"outlined\",\n    fullWidth: true,\n    value: valores.amat,\n    onChange: handleChange(\"amat\")\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 6\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    id: \"rut\",\n    label: \"Rut\",\n    value: fRut,\n    onChange: manejoCambiofRut(\"fRrut\"),\n    margin: \"normal\"\n  })), /*#__PURE__*/_react.default.createElement(_material.Grid, {\n    item: true,\n    xs: 6\n  }, /*#__PURE__*/_react.default.createElement(_material.TextField, {\n    sx: {\n      opacity: 0.5,\n      cursor: \"not-allowed\"\n    },\n    disabled: true,\n    label: \"Rol\",\n    variant: \"outlined\",\n    fullWidth: true,\n    value: valores.rol\n    // onChange={handleChange('rol')}\n  })), /*#__PURE__*/_react.default.createElement(_material.CardActions, null, /*#__PURE__*/_react.default.createElement(_material.Button, {\n    color: \"primary\",\n    variant: \"contained\",\n    onClick: clickSubmit\n  }, \"Enviar\")), /*#__PURE__*/_react.default.createElement(_material.Dialog, {\n    open: valores.open\n  }, /*#__PURE__*/_react.default.createElement(_material.DialogTitle, null, \"Nueva Cuenta\"), /*#__PURE__*/_react.default.createElement(_material.DialogContent, null, /*#__PURE__*/_react.default.createElement(_material.DialogContentText, null, \"Nueva cuenta creada exitosamente.\")), /*#__PURE__*/_react.default.createElement(_material.DialogActions, null, /*#__PURE__*/_react.default.createElement(_reactRouterDom.Link, {\n    to: \"/signin\"\n  }, /*#__PURE__*/_react.default.createElement(_material.Button, {\n    color: \"primary\",\n    autoFocus: \"autoFocus\",\n    variant: \"contained\"\n  }, \"Ingresar\")))));\n}\n__signature__(Signup, \"useState{[valores, setValores]({\\r\\n    nombre_usuario: \\\"\\\",\\r\\n    correo: \\\"\\\",\\r\\n    password: \\\"\\\",\\r\\n    apat: \\\"\\\",\\r\\n    amat: \\\"\\\",\\r\\n    nombres: \\\"\\\",\\r\\n    rut: \\\"\\\",\\r\\n    dv: \\\"\\\",\\r\\n    rol: 2,\\r\\n    open: false,\\r\\n    error: \\\"\\\",\\r\\n  })}\\nuseState{[validations, setValidations]({\\r\\n    nombre_usuario: false,\\r\\n    correo: false,\\r\\n    password: false,\\r\\n    apat: false,\\r\\n    amat: false,\\r\\n    nombres: false,\\r\\n    rut: false,\\r\\n  })}\\nuseState{[fRut, setfRut](\\\"\\\")}\");\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(Signup, \"Signup\", \"C:\\\\clc\\\\AppNew\\\\client\\\\usuario\\\\Signup.js\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n\n//# sourceURL=webpack://setup/./client/usuario/Signup.js?");

/***/ })

};
;